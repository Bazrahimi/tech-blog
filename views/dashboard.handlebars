<!-- views/dashboard.handlebars -->
<h2>Create a New Post</h2>

<form class="new-post-form" action="/api/posts" method="POST">
    <div class="mb-3">
        <label for="title" class="form-label">Title</label>
        <input type="text" class="form-control" id="post-title" name="title" required>
    </div>
    <div class="mb-3">
        <label for="content" class="form-label">Content</label>
        <textarea class="form-control" id="post-content" name="content" rows="10" required></textarea>
    </div>
    <div class="mb-3">
        <button type="submit" class="btn btn-primary">Create</button>
    </div>
</form>

<!-- Display all posts -->
<!-- Display all posts -->
{{#if posts.length}}
  <h2>All Posts</h2>
  <ul>
    {{#each posts}}
      <li>
        <h3>{{this.title}}</h3>
        <p>{{this.content}}</p>
        <p>
          <span style="font-size: 10px;">Posted By </span>
          <strong style="font-size: 13px;">{{this.user.username}}</strong>
          <span style="font-size: 9px;">{{moment this.created_at }}</span>
        </p>

        <div>
  <!-- Edit Button:  -->
  {{!-- <a href="/dashboard/edit/{{this.id}}" class="btn btn-primary">Edit</a> --}}

  
  <!-- Delete Button: Form submission for DELETE request -->
  <form action="/api/posts/{{this.id}}?_method=DELETE" method="POST">
    <button type="submit" class="btn btn-danger">X</button>
  </form>
</div>

      </li>
    {{/each}}
  </ul>
{{else}}
  <p>You don't have any posts yet. Create one!</p>
{{/if}}